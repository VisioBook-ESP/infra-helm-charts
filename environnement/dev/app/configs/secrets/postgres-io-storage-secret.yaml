apiVersion: v1
kind: Secret
metadata:
  name: postgres-io-storage-secret
  namespace: visiobook-namespace
  annotations:
    argocd.argoproj.io/sync-wave: "-2"
  labels:
    app: postgres-io
type: Opaque
stringData:
  # ===== CNPG bootstrap credentials (creates storage database) =====
  username: "storage_user"
  password: "StoragePass123!"
  dbname: "storage"

  # ===== Passwords for additional users (used in postInitSQL) =====
  analysis_password: "AnalysisPass123!"
  ingestion_password: "IngestionPass123!"

  # ===== Application connection (support-storage-service) =====
  DATABASE_URL: "postgresql://storage_user:StoragePass123!@postgres-io-rw.visiobook-namespace.svc.cluster.local:5432/storage"
  DB_HOST: "postgres-io-rw.visiobook-namespace.svc.cluster.local"
  DB_PORT: "5432"
  DB_NAME: "storage"
  DB_USERNAME: "storage_user"
  DB_PASSWORD: "StoragePass123!"
